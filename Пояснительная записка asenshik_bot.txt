–ü–æ—è—Å–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å–∫–∞ asenshik_bot
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –¥–Ω–µ–≤–Ω–∏–∫–∞ —Å –ø–æ–º–æ—â—å—é Telegram API –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Telebot. –°—É—Ç—å –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –≤–∏–¥–µ —É—á–∏—Ç–µ–ª–µ–π –∏ —É—á–µ–Ω–∏–∫–æ–≤. –£—á–∏—Ç–µ–ª—è –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ. –£—á–µ–Ω–∏–∫–∏ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–Ω–∏ –∏ —É–∑–Ω–∞–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏.
‚Ä¢	–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –Ω–µ–π, –º–µ—Ç–æ–¥–∞–º–∏ execute –≤–Ω–æ—Å–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –ø–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
# –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –æ—Ç–≤–µ—á–∞—é—â–∏–º–∏ –∑–∞ —Ä–∞–±–æ—Ç—É —Å –ë–î
class SQLighter:
    global ACTIVE_CLASS, SHEDULE_ID

    # –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
    def __init__(self, user_id):
        self.database = 'db.db'
        self.con = sqlite3.connect(self.database)
        self.cursor = self.con.cursor()
        self.user_id = user_id

‚Ä¢	–°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ –±–æ—Ç–µ, —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∏—Ö –Ω–∞–∂–∞—Ç–∏—è, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ—Ç–æ–¥–æ–º message
# –∫–æ–º–∞–Ω–¥–∞ /start
@bot.message_handler(commands=['start', 'help'])
def start_message(message):
    # –ø–æ–ª—É—á–∞–µ–º –∏–º—è user –∏ –∑–¥–æ—Ä–æ–≤–∞–µ–º—Å—è —Å –Ω–∏–º
    user_first_name = str(message.chat.first_name)
    # —Å–æ–∑–¥–∞—ë–º —Å–ø–∏—Å–æ–∫ —Å –Ω—É–∂–Ω—ã–º–∏ –¥–ª—è –Ω–∞—Å –∫–Ω–æ–ø–∫–∞–º–∏
    buttons = ['üë©‚Äçüè´–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å', 'üë®‚Äçüéì–ù–∞–π—Ç–∏ –∫–ª–∞—Å—Å', '‚ùì–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏', 'üéì–í–∞—à–∏ –∫–ª–∞—Å—Å—ã',
               'üÜî–ü–æ–ª—É—á–∏—Ç—å id']
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    # –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
    for button in buttons:
        markup.add(button)
    # –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–∏—Å–∞–ª –∫–æ–º–∞–Ω–¥—É /start
    bot.send_message(message.chat.id, f'–ü—Ä–∏–≤–µ—Ç, {user_first_name}!\n–¢–µ–±—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Asenshik_bot,'
                                      f' –ø–æ–ª—å–∑—É–π—Å—è –±–æ—Ç–æ–º —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥ —Å–Ω–∏–∑—Éüëá.', reply_markup=markup)


‚Ä¢	–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫—É—é –æ–ø—Ü–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 
# —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –ø–æ –≤—ã–∑–æ–≤—É –æ—Ç –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏
def create_class(message):
    global ACTIVE_CLASS
    try:
        # –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        if message.text == '‚úÖ–ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω—É—é':
            return start_message(message)
        elif message.text == '/start':
            return start_message(message)
        # —Å–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞
        creating_key = True
        # –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞
        key = ''
        # –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
        sqlighter = SQLighter(message.from_user.id)
        # –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–ª—é—á–∞
        while creating_key:
            # –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∫–ª—é—á
            key = ''.join(random.choice(string.digits) for _ in range(6))
            # –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–ª—é—á–∞
            if key[0] != '0':
                if not sqlighter.add_class(key, message.text):
                    creating_key = False
        # –ø—Ä–∏—Å–≤–∞–µ–≤–∞–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ACTIVE_CLASS –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞
        ACTIVE_CLASS = key
        # –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞ –≤ –∫–ª–∞—Å—Å –ø–æ –µ–≥–æ –∫–ª—é—á—É
        sqlighter.add_admin(key)
        # –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–ª–∞—Å—Å –ø–æ –µ–≥–æ –∫–ª—é—á—É
        sqlighter.add_user_to_class(key)
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        # —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–Ω–æ–ø–æ–∫
        buttons = ['üìì–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ',
                   'üìí–î–ó',
                   '‚úÖ–ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω—É—é']
        # –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –Ω–∞ —ç–∫—Ä–∞–Ω
        markup.add(*buttons)
        bot.send_message(message.chat.id, f'–ö–ª–∞—Å—Å –±—ã–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω. –í–∞—à –∫–ª—é—á:\n{key}',
                         reply_markup=markup)
    # –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ –≤ —Å–ª—É—á–∞–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö / –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
    except Exception as e:
        bot.send_message(message.chat.id, '‚ùå–û—à–∏–±–∫–∞! –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å.')


